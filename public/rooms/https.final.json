{
  "schemaVersion": "1.0",
  "id": "https",
  "meta": {
    "title": "HTTPS",
    "summary": "Same layout as /room (networking-lab-v1): doors, windows, smartboard, soffit, ceiling panels, accent wall"
  },
  "theme": {
    "lighting": "bright"
  },
  "environment": {
    "background": "#e0e0e0",
    "shadows": true
  },
  "camera": {
    "position": [
      8,
      1.65,
      6
    ],
    "target": [
      0,
      1.65,
      0
    ],
    "fov": 60
  },
  "structure": {
    "dimensions": {
      "width": 30,
      "height": 9,
      "depth": 24
    },
    "decor": [
      {
        "id": "accent-back-wall",
        "type": "firewall_wall",
        "thickness": 0.02,
        "color": "#2A3B52",
        "roughness": 0.7
      },
      {
        "id": "classroom-door",
        "type": "door",
        "position": [
          -11,
          1.5,
          -11.9
        ],
        "rotation": [
          0,
          0,
          0
        ],
        "scale": [
          1.5,
          3,
          0.075
        ],
        "material": {
          "color": "#8B4513",
          "roughness": 0.9,
          "metalness": 0
        }
      },
      {
        "id": "east-classroom-door",
        "type": "door",
        "position": [
          11,
          1.5,
          -11.9
        ],
        "rotation": [
          0,
          0,
          0
        ],
        "scale": [
          1.5,
          3,
          0.075
        ],
        "material": {
          "color": "#8B4513",
          "roughness": 0.9,
          "metalness": 0
        },
        "flippedHandle": true
      },
      {
        "id": "smart-board-backdrop",
        "type": "wooden_panel_backdrop",
        "position": [
          0,
          4,
          -12
        ],
        "rotation": [
          0,
          0,
          0
        ],
        "panelWidth": 10,
        "panelHeight": 6.8,
        "panelThickness": 0.06,
        "slatWidth": 0.12,
        "gapWidth": 0.025,
        "woodColor": "#7B6048",
        "hasLEDStrip": true,
        "ledColor": "#ffffff",
        "boardDimensions": [
          6,
          3.6
        ]
      },
      {
        "id": "smart-board",
        "type": "whiteboard",
        "position": [
          0,
          4,
          -11.9
        ],
        "rotation": [
          0,
          0,
          0
        ],
        "scale": [
          6,
          3.6,
          0.1
        ],
        "material": {
          "color": "#ffffff",
          "roughness": 0.2,
          "metalness": 0
        }
      },
      {
        "id": "north-text",
        "type": "text",
        "position": [
          6,
          7,
          -11.5
        ],
        "rotation": [
          0,
          0,
          0
        ],
        "scale": 1.5,
        "content": "NORTH",
        "material": {
          "color": "#ffffff"
        }
      },
      {
        "id": "south-text",
        "type": "text",
        "position": [
          0,
          7,
          11.5
        ],
        "rotation": [
          0,
          3.14159,
          0
        ],
        "scale": 1.5,
        "content": "SOUTH",
        "material": {
          "color": "#333333"
        }
      },
      {
        "id": "east-text",
        "type": "text",
        "position": [
          14.5,
          7,
          0
        ],
        "rotation": [
          0,
          -1.5708,
          0
        ],
        "scale": 1.5,
        "content": "EAST",
        "material": {
          "color": "#333333"
        }
      },
      {
        "id": "west-text",
        "type": "text",
        "position": [
          -14.5,
          7,
          0
        ],
        "rotation": [
          0,
          1.5708,
          0
        ],
        "scale": 1.5,
        "content": "WEST",
        "material": {
          "color": "#333333"
        }
      },
      {
        "id": "south-window",
        "type": "window_view",
        "position": [
          -8,
          4.5,
          11.9
        ],
        "rotation": [
          0,
          3.14159,
          0
        ],
        "scale": [
          7.5,
          4.2,
          0.15
        ],
        "leftImageUrl": "/textures/window/image1.png",
        "rightImageUrl": "/textures/window/iamge2.png",
        "frameColor": "#2D1B1F",
        "glassOpacity": 0.25,
        "parallaxFactor": 0.03
      },
      {
        "id": "south-east-window",
        "type": "window_view",
        "position": [
          8,
          4.5,
          11.9
        ],
        "rotation": [
          0,
          3.14159,
          0
        ],
        "scale": [
          7.5,
          4.2,
          0.15
        ],
        "leftImageUrl": "/textures/window/image3.png",
        "rightImageUrl": "/textures/window/image4.png",
        "frameColor": "#2D1B1F",
        "glassOpacity": 0.25,
        "parallaxFactor": 0.03
      },
      {
        "id": "perimeter-soffit",
        "type": "ceiling_soffit",
        "roomWidth": 30,
        "roomHeight": 9,
        "roomDepth": 24,
        "soffitDepth": 3.0375,
        "soffitDrop": 0.25,
        "soffitThickness": 0.08,
        "lightSpacing": 2,
        "woodColor": "#D4BE94",
        "lightColor": "#ffffff",
        "lightIntensity": 1.2,
        "lightTemperature": 4500
      },
      {
        "id": "ceiling-panels",
        "type": "ceiling_light_panels",
        "panels": [
          {
            "position": [
              -7.5,
              8.97,
              -6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          },
          {
            "position": [
              0,
              8.97,
              -6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          },
          {
            "position": [
              7.5,
              8.97,
              -6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          },
          {
            "position": [
              -7.5,
              8.97,
              6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          },
          {
            "position": [
              0,
              8.97,
              6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          },
          {
            "position": [
              7.5,
              8.97,
              6
            ],
            "size": [
              5.2,
              0.03,
              3.25
            ]
          }
        ]
      },
      {
        "id": "honeycomb-feature-wall",
        "type": "honeycomb_wall",
        "position": [
          -14.95,
          3.5,
          0
        ],
        "rotation": [
          0,
          1.5708,
          0
        ],
        "wallWidth": 10,
        "wallHeight": 3.5,
        "hexSize": 1,
        "gapSize": 0.02,
        "protrusionRatio": 0.3
      }
    ]
  },
  "devices": [
    {
      "alias": "desktop1",
      "category": "desktop",
      "model": "/inventory/desktops/gaming_desktop_pc.glb",
      "position": [
        17.46325846805721,
        1.7959227331710277,
        16.21927582216725
      ],
      "rotation": [
        -3.141592653589793,
        0.037797846446590136,
        -3.141592653589793
      ],
      "scale": [
        0.10250994361102478,
        0.10250994361102478,
        0.10250994361102478
      ],
      "metadata": {
        "title": "Desktop",
        "originalId": "desktop1",
        "originalModelName": "/inventory/desktops/gaming_desktop_pc.glb",
        "worldPosition": [
          17.46325846805721,
          1.7959227331710277,
          16.21927582216725
        ],
        "worldQuaternion": [
          6.237856153217911e-17,
          0.9998214206658496,
          6.237856153217911e-17,
          0.01889779822419276
        ],
        "worldScale": [
          1,
          1,
          1
        ],
        "worldCenter": [
          18.236899952047388,
          0.4564103853138433,
          13.605320487974996
        ],
        "type": "desktop",
        "os": "Windows 11",
        "capabilities": "web browser, curl, tcpdump",
        "net": {
          "zone": "LAN",
          "hostname": "client",
          "interfaces": [
            {
              "id": "desktop1.eth0",
              "name": "eth0",
              "kind": "lan",
              "ip": "192.168.10.30",
              "gateway": "192.168.10.1"
            }
          ]
        }
      }
    },
    {
      "alias": "switch1",
      "category": "switch",
      "model": "/inventory/switches/c8300-1n1s-4t2x.glb",
      "position": [
        9.124572745898242,
        0.15145895352761737,
        10.30108123367223
      ],
      "rotation": [
        -4.8468890187070196e-17,
        1.5324896637618632,
        2.9334862427313516e-16
      ],
      "scale": [
        1.145703125,
        1.145703125,
        1.145703125
      ],
      "metadata": {
        "title": "Switch",
        "originalId": "switch1",
        "originalModelName": "/inventory/switches/c8300-1n1s-4t2x.glb",
        "worldPosition": [
          9.124572745898242,
          0.15145895352761737,
          10.30108123367223
        ],
        "worldQuaternion": [
          8.424762738525904e-17,
          0.6934344615085385,
          8.887673296233237e-17,
          0.7205197065954293
        ],
        "worldScale": [
          0.9999999999999999,
          1,
          0.9999999999999999
        ],
        "worldCenter": [
          6.196618275029552,
          0.3390919581043991,
          12.464694636159514
        ],
        "type": "switch",
        "os": "Cisco IOS-XE",
        "capabilities": "layer2 switching, vlan",
        "net": {
          "zone": "LAN",
          "hostname": "lan-switch",
          "mgmtIp": "192.168.10.2",
          "subnet": "192.168.10.0/24",
          "ports": [
            { "name": "Gi0/1", "type": "LAN", "info": "to client" },
            { "name": "Gi0/24", "type": "Uplink", "info": "to router" }
          ]
        }
      }
    },
    {
      "alias": "router1",
      "category": "router",
      "model": "/inventory/routers/router.glb",
      "position": [
        -0.4760799317834845,
        0.10709401454776545,
        14.679794803489285
      ],
      "rotation": [
        -1.995227852073393e-15,
        1.5309246149561246,
        1.9886114659397518e-15
      ],
      "scale": 1,
      "metadata": {
        "title": "Router",
        "originalId": "router1",
        "originalModelName": "/inventory/routers/router.glb",
        "worldPosition": [
          -0.4760799317834845,
          0.10709401454776545,
          14.679794803489285
        ],
        "worldQuaternion": [
          -3.04165720002392e-17,
          0.6928704250025635,
          2.573901017337603e-17,
          0.7210621153248636
        ],
        "worldScale": [
          1,
          1,
          1
        ],
        "worldCenter": [
          -11.800366418073624,
          0.2608710071071981,
          13.084731388208349
        ],
        "type": "router",
        "os": "Cisco IOS-XE 17.9",
        "capabilities": "routing",
        "net": {
          "zone": "LAN",
          "hostname": "lan-router",
          "interfaces": [
            { "name": "LAN", "type": "LAN", "ip": "192.168.10.1/24" },
            { "name": "to-firewall", "type": "transit", "ip": "10.0.0.2/30" }
          ]
        }
      }
    },
    {
      "alias": "firewall1",
      "category": "firewall",
      "model": "/inventory/Firewall/Firewall-Cisco-FPR-1150.glb",
      "position": [
        -14.154419335779068,
        0.1277130055427551,
        11.018522418713847
      ],
      "rotation": [
        -3.141592653589793,
        1.4092666205136604,
        -3.141592653589793
      ],
      "scale": 1,
      "metadata": {
        "title": "Firewall",
        "originalId": "firewall1",
        "originalModelName": "/inventory/Firewall/Firewall-Cisco-FPR-1150.glb",
        "worldPosition": [
          -14.154419335779068,
          0.1277130055427551,
          11.018522418713847
        ],
        "worldQuaternion": [
          8.631332921255511e-17,
          0.7618491279115893,
          8.631332921255511e-17,
          0.647754510829798
        ],
        "worldScale": [
          1,
          1,
          1
        ],
        "worldCenter": [
          5.060643007264595,
          0.7976809256490974,
          3.8303554897337713
        ],
        "type": "firewall",
        "os": "Cisco FTD 7.x",
        "capabilities": "stateful firewall, nat",
        "net": {
          "zone": "EDGE",
          "hostname": "edge-firewall",
          "interfaces": [
            { "name": "inside", "type": "transit", "ip": "10.0.0.1/30" },
            { "name": "outside", "type": "WAN", "ip": "203.0.113.1/24" }
          ],
          "nat": {
            "snat": "203.0.113.1"
          }
        }
      }
    },
    {
      "alias": "earth1",
      "category": "earth",
      "model": "/inventory/Earth/earth.glb",
      "position": [
        -2,
        0.06499998491917591,
        -0.9999999999999996
      ],
      "rotation": [
        0,
        0.5696454652482797,
        0
      ],
      "scale": [
        0.00749999877809695,
        0.00749999877809695,
        0.00749999877809695
      ],
      "metadata": {
        "title": "Internet",
        "originalId": "earth1",
        "originalModelName": "/inventory/Earth/earth.glb",
        "worldPosition": [
          -2,
          0.06499998491917591,
          -0.9999999999999996
        ],
        "worldQuaternion": [
          0,
          0.280987330175798,
          0,
          0.9597114776226638
        ],
        "worldScale": [
          1,
          1,
          1
        ],
        "worldCenter": [
          0.7135123117752064,
          0.8130000011801043,
          -3.374409040167971
        ],
        "type": "earth",
        "net": {
          "zone": "WAN",
          "hostname": "internet",
          "notes": "Represents the public Internet / WAN."
        }
      }
    },
    {
      "alias": "web1",
      "category": "server",
      "model": "/inventory/servers/server.glb",
      "position": [
        -0.4411722106993192,
        0.01999999999999935,
        -3.6121976854292424
      ],
      "rotation": [
        0,
        -0.7915069527958244,
        0
      ],
      "scale": 1,
      "metadata": {
        "title": "Web Server",
        "originalId": "web1",
        "originalModelName": "/inventory/servers/server.glb",
        "worldPosition": [
          -0.4411722106993192,
          0.01999999999999935,
          -3.6121976854292424
        ],
        "worldQuaternion": [
          0,
          -0.38550353563610884,
          0,
          0.9227063584976857
        ],
        "worldScale": [
          1,
          1,
          1
        ],
        "worldCenter": [
          11.076118499708,
          1.1587988079562161,
          -11.8463521056978
        ],
        "type": "server",
        "os": "Ubuntu 22.04 + Nginx",
        "capabilities": "http, https, tls",
        "net": {
          "zone": "WAN",
          "hostname": "web-server",
          "interfaces": [
            { "id": "web1.eth0", "name": "eth0", "kind": "wan", "ip": "198.51.100.10" }
          ],
          "services": ["HTTP (TCP/80)", "HTTPS (TCP/443)"]
        }
      }
    },
    {
      "alias": "desktop2",
      "category": "desktop",
      "model": "/inventory/desktops/gaming_desktop_pc.glb",
      "position": [
        7.322711961743352,
        1.795922733171035,
        14.147462966828275
      ],
      "rotation": [
        -3.141592653589793,
        0.11453453816494748,
        3.1415926535897927
      ],
      "scale": [
        0.10250994361102478,
        0.10250994361102478,
        0.10250994361102478
      ],
      "metadata": {
        "title": "Attacker",
        "originalTitle": "Attacker",
        "originalId": "desktop2",
        "originalModelName": "/inventory/desktops/gaming_desktop_pc.glb",
        "worldPosition": [
          7.322711961743352,
          1.795922733171035,
          14.147462966828275
        ],
        "worldQuaternion": [
          -2.7930787023955865e-16,
          0.9983606780379025,
          4.4918329011306585e-17,
          0.057235972497194705
        ],
        "worldScale": [
          1.0000000000000002,
          1,
          1.0000000000000002
        ],
        "worldCenter": [
          -12.189233280338678,
          1.3702880090362015,
          -9.084065087463285
        ],
        "type": "desktop",
        "os": "Kali Linux",
        "capabilities": "(not used yet) packet capture",
        "net": {
          "zone": "WAN",
          "hostname": "attacker",
          "interfaces": [
            { "id": "desktop2.eth0", "name": "eth0", "kind": "wan", "ip": "198.51.100.66" }
          ]
        }
      }
    },
    {
      "alias": "misc1",
      "category": "misc",
      "model": "/inventory/misc/guy.glb",
      "position": [
        2.369003027197607,
        -0.10476219519157637,
        -1.8963236608525778
      ],
      "rotation": [
        -1.9952133014648723,
        1.4085280015015018,
        2.000197223071921
      ],
      "scale": [
        1.5454296875,
        1.5454296875,
        1.5454296875
      ],
      "metadata": {
        "title": "Guy",
        "originalId": "misc1",
        "originalModelName": "/inventory/misc/guy.glb",
        "worldPosition": [
          2.369003027197607,
          -0.10476219519157637,
          -1.8963236608525778
        ],
        "worldQuaternion": [
          -0.050407952805112115,
          0.7285072484618543,
          0.053920520944558355,
          0.6810497813329088
        ],
        "worldScale": [
          1,
          0.9999999999999999,
          1
        ],
        "worldCenter": [
          -13.006332373928245,
          1.1498557006896712,
          -9.249146741806374
        ]
      }
    }
  ],
  "links": [],
  "flows": [
    {
      "id": "dns-full",
      "path": [
        "desktop1",
        "switch1",
        "router1",
        "firewall1",
        "earth1",
        "web1",
        "earth1",
        "firewall1",
        "router1",
        "switch1",
        "desktop1"
      ],
      "style": {
        "color": "#00e5ff",
        "speed": 1.1
      }
    },
    {
      "id": "pki-full",
      "path": [
        "desktop1",
        "switch1",
        "router1",
        "firewall1",
        "earth1",
        "web1",
        "earth1",
        "firewall1",
        "router1",
        "switch1",
        "desktop1"
      ],
      "style": {
        "color": "#9333ea",
        "speed": 1
      }
    },
    {
      "id": "https-full",
      "path": [
        "desktop1",
        "switch1",
        "router1",
        "firewall1",
        "earth1",
        "web1",
        "earth1",
        "firewall1",
        "router1",
        "switch1",
        "desktop1"
      ],
      "style": {
        "color": "#10b981",
        "speed": 1
      }
    }
  ],
  "phases": [
    {
      "id": "DNS",
      "actions": [
        {
          "hud": "HTTP (insecure): client → switch → router → firewall → internet → web server → back"
        },
        {
          "playFlow": "dns-full"
        }
      ]
    },
    {
      "id": "PKI",
      "actions": [
        {
          "hud": "TLS Handshake: client ↔ web server (certificate + key exchange)"
        },
        {
          "playFlow": "pki-full"
        }
      ]
    },
    {
      "id": "HTTPS",
      "actions": [
        {
          "hud": "HTTPS (encrypted): client ↔ web server (encrypted application data)"
        },
        {
          "playFlow": "https-full"
        }
      ]
    }
  ],
  "terminal": {
    "commands": [
      {
        "id": "dig",
        "match": "dig*",
        "onRun": [
          {
            "phase": "DNS"
          }
        ]
      },
      {
        "id": "curl",
        "match": "curl*",
        "onRun": [
          {
            "phase": "DNS"
          }
        ]
      }
    ]
  },
  "content": {
    "boards": []
  }
}
